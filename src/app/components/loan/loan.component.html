<div class="container mt-5">
  <h1 class="text-primary mb-4">ğŸ“š Liste des Emprunts</h1>

  <!-- table de d'emprunts -->
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="bg-primary text-white">
        <tr>
          <th>ID</th>
          <th>Book Title</th>
          <th>Member Name</th>
          <th>Loan Date</th>
          <th>Return Date</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let loan of loans">
          <td>{{ loan.id }}</td>
          <td>{{ loan.book.title }}</td>
          <td>{{ loan.member.name }}</td>
          <td>{{ loan.loanDate | date: 'dd/MM/yyyy' }}</td>
          <td>{{ loan.returnDate ? (loan.returnDate | date: 'dd/MM/yyyy') : 'Not Returned' }}</td>
          <td>
            <button class="btn btn-success btn-sm" (click)="returnBook(loan.id)">Return</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Ajouter un emprunt -->
  <h2 class="text-success mt-5">Ajouter un Emprunt</h2>
  <form (ngSubmit)="addLoan()" class="mt-3 border p-4 rounded shadow-sm bg-light">
    <div class="form-group mb-3">
      <label for="bookId" class="form-label">Book ID:</label>
      <input type="number" id="bookId" class="form-control border-primary" [(ngModel)]="newLoan.book.id" name="bookId" required>
    </div>
    <div class="form-group mb-3">
      <label for="memberId" class="form-label">Member ID:</label>
      <input type="number" id="memberId" class="form-control border-primary" [(ngModel)]="newLoan.member.id" name="memberId" required>
    </div>
    <button type="submit" class="btn btn-primary">ğŸ“¥ Ajouter</button>
  </form>
</div>
