<div class="container mt-5">
  <h1 class="text-primary mb-4">👥 Liste des Membres</h1>

  <!-- Table des membres -->
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="bg-primary text-white">
        <tr>
          <th>ID</th>
          <th>Nom</th>
          <th>Email</th>
          <th>Date d'adhésion</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let member of members">
          <td>{{ member.id }}</td>
          <td>{{ member.name }}</td>
          <td>{{ member.email }}</td>
          <td>{{ member.joinDate | date: 'dd/MM/yyyy' }}</td>
          <td>
            <button class="btn btn-warning btn-sm me-2" (click)="selectMember(member)">✏️ Modifier</button>
            <button class="btn btn-danger btn-sm" (click)="deleteMember(member.id)">🗑️ Supprimer</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Formulaire d'ajout ou de modification -->
  <div class="mt-5">
    <h2 [ngClass]="selectedMember ? 'text-warning' : 'text-success'">
      {{ selectedMember ? 'Modifier le membre' : 'Ajouter un membre' }}
    </h2>

    <form (ngSubmit)="selectedMember ? updateMember() : addMember()" class="mt-3 border p-4 rounded shadow-sm bg-light">
      <div class="form-group mb-3">
        <label for="name" class="form-label">Nom:</label>
        <input 
          type="text" 
          id="name" 
          class="form-control" 
          [ngClass]="selectedMember ? 'border-warning' : 'border-primary'"
          [(ngModel)]="tempName" 
          name="name" 
          required 
          placeholder="Entrez le nom du membre">
      </div>
      <div class="form-group mb-3">
        <label for="email" class="form-label">Email:</label>
        <input 
          type="email" 
          id="email" 
          class="form-control" 
          [ngClass]="selectedMember ? 'border-warning' : 'border-primary'"
          [(ngModel)]="tempEmail" 
          name="email" 
          required 
          placeholder="Entrez l'email du membre">
      </div>
      <div class="form-group mb-3">
        <label for="joinDate" class="form-label">Date d'adhésion:</label>
        <input 
          type="date" 
          id="joinDate" 
          class="form-control" 
          [ngClass]="selectedMember ? 'border-warning' : 'border-primary'"
          [(ngModel)]="tempJoinDate" 
          name="joinDate" 
          required>
      </div>
      <button type="submit" class="btn btn-primary" *ngIf="!selectedMember">📥 Ajouter</button>
      <button type="submit" class="btn btn-success" *ngIf="selectedMember">✔️ Mettre à jour</button>
    </form>
  </div>
</div>
